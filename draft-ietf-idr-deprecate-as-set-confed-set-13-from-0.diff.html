<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.34: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Darwin jhaas-mbp 22.6.0 Darwin Kernel Version 22.6.0: Tue Nov  7 21:42:24 PST 2023; root:xnu-8796.141.3.702.9~2/RELEASE_ARM64_T6020 arm64 --> 
<!-- Using awk: /opt/local/bin/gawk: GNU Awk 5.3.0, API 4.0 --> 
<!-- Using diff: /usr/bin/diff: Apple diff (based on FreeBSD diff) --> 
<!-- Using wdiff: :  --> 
<html> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: draft-ietf-idr-deprecate-as-set-confed-set-10.txt - draft-ietf-idr-deprecate-as-set-confed-set-13.txt</title> 
  <style type="text/css"> 
    body    { margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;draft-ietf-idr-deprecate-as-set-confed-set-10.txt&nbsp;</th><th> </th><th>&nbsp;draft-ietf-idr-deprecate-as-set-confed-set-13.txt&nbsp;</th><th></th></tr> 
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Network Working Group                                          W. Kumari</td><td> </td><td class="right">Network Working Group                                          W. Kumari</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Internet-Draft                                              Google, Inc.</td><td> </td><td class="right">Internet-Draft                                              Google, Inc.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Obsoletes: 6472 (if approved)                                  K. Sriram</td><td> </td><td class="right">Obsoletes: 6472 (if approved)                                  K. Sriram</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Updates: 4271 5065 (if approved)                             L. Hannachi</td><td> </td><td class="right">Updates: 4271 5065 (if approved)                             L. Hannachi</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Intended status: Standards Track                                USA NIST</td><td> </td><td class="right">Intended status: Standards Track                                USA NIST</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">Expires: <span class="delete">9 July 2023    </span>                                         J. Haas</td><td> </td><td class="rblock">Expires: <span class="insert">31 October 2024</span>                                         J. Haas</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                  Juniper Networks, Inc.</td><td> </td><td class="right">                                                  Juniper Networks, Inc.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                                          5 January 2023</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">             <span class="delete">         Deprecation of AS</span>_SET in BGP</td><td> </td><td class="rblock">             <span class="insert">Deprecation of AS_SET and AS_CONFED</span>_SET in BGP</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">             draft-ietf-idr-deprecate-as-set-confed-set-1<span class="delete">0</span></td><td> </td><td class="rblock">             draft-ietf-idr-deprecate-as-set-confed-set-1<span class="insert">3</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Abstract</td><td> </td><td class="right">Abstract</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   BCP 172 (i.e., RFC 6472) recommends not using AS_SET and</td><td> </td><td class="right">   BCP 172 (i.e., RFC 6472) recommends not using AS_SET and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   AS_CONFED_SET AS_PATH segment types in the Border Gateway Protocol</td><td> </td><td class="right">   AS_CONFED_SET AS_PATH segment types in the Border Gateway Protocol</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   (BGP).  This document advances that recommendation to a standards</td><td> </td><td class="right">   (BGP).  This document advances that recommendation to a standards</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   requirement in BGP; it proscribes the use of the AS_SET and</td><td> </td><td class="right">   requirement in BGP; it proscribes the use of the AS_SET and</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   AS_CONFED_SET path segment types<span class="delete">s</span> in the AS_PATH.  This is done to</td><td> </td><td class="rblock">   AS_CONFED_SET path segment types in the AS_PATH.  This is done to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   simplify the design and implementation of BGP and to make the</td><td> </td><td class="right">   simplify the design and implementation of BGP and to make the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   semantics of the originator of a BGP route clearer.  This will also</td><td> </td><td class="right">   semantics of the originator of a BGP route clearer.  This will also</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   simplify the design, implementation, and deployment of various BGP</td><td> </td><td class="right">   simplify the design, implementation, and deployment of various BGP</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   security mechanisms.  This document updates RFC 4271 and RFC 5065,</td><td> </td><td class="right">   security mechanisms.  This document updates RFC 4271 and RFC 5065,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   and obsoletes RFC 6472.</td><td> </td><td class="right">   and obsoletes RFC 6472.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Status of This Memo</td><td> </td><td class="right">Status of This Memo</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This Internet-Draft is submitted in full conformance with the</td><td> </td><td class="right">   This Internet-Draft is submitted in full conformance with the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   provisions of BCP 78 and BCP 79.</td><td> </td><td class="right">   provisions of BCP 78 and BCP 79.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> page 1, line 43</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> page 1, line 42</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Internet-Drafts are working documents of the Internet Engineering</td><td> </td><td class="right">   Internet-Drafts are working documents of the Internet Engineering</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Task Force (IETF).  Note that other groups may also distribute</td><td> </td><td class="right">   Task Force (IETF).  Note that other groups may also distribute</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   working documents as Internet-Drafts.  The list of current Internet-</td><td> </td><td class="right">   working documents as Internet-Drafts.  The list of current Internet-</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Drafts is at https://datatracker.ietf.org/drafts/current/.</td><td> </td><td class="right">   Drafts is at https://datatracker.ietf.org/drafts/current/.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Internet-Drafts are draft documents valid for a maximum of six months</td><td> </td><td class="right">   Internet-Drafts are draft documents valid for a maximum of six months</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   and may be updated, replaced, or obsoleted by other documents at any</td><td> </td><td class="right">   and may be updated, replaced, or obsoleted by other documents at any</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   time.  It is inappropriate to use Internet-Drafts as reference</td><td> </td><td class="right">   time.  It is inappropriate to use Internet-Drafts as reference</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   material or to cite them other than as "work in progress."</td><td> </td><td class="right">   material or to cite them other than as "work in progress."</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   This Internet-Draft will expire on <span class="delete">9 July 2023</span>.</td><td> </td><td class="rblock">   This Internet-Draft will expire on <span class="insert">31 October 2024</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Copyright Notice</td><td> </td><td class="right">Copyright Notice</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Copyright (c) 202<span class="delete">3</span> IETF Trust and the persons identified as the</td><td> </td><td class="rblock">   Copyright (c) 202<span class="insert">4</span> IETF Trust and the persons identified as the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   document authors.  All rights reserved.</td><td> </td><td class="right">   document authors.  All rights reserved.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This document is subject to BCP 78 and the IETF Trust's Legal</td><td> </td><td class="right">   This document is subject to BCP 78 and the IETF Trust's Legal</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Provisions Relating to IETF Documents (https://trustee.ietf.org/</td><td> </td><td class="right">   Provisions Relating to IETF Documents (https://trustee.ietf.org/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   license-info) in effect on the date of publication of this document.</td><td> </td><td class="right">   license-info) in effect on the date of publication of this document.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Please review these documents carefully, as they describe your rights</td><td> </td><td class="right">   Please review these documents carefully, as they describe your rights</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   and restrictions with respect to this document.  Code Components</td><td> </td><td class="right">   and restrictions with respect to this document.  Code Components</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   extracted from this document must include <span class="delete">Simplified BSD License text</span></td><td> </td><td class="rblock">   extracted from this document must include <span class="insert">Revised BSD License text as</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">as </span>described in Section 4.e of the Trust Legal Provisions and are</td><td> </td><td class="rblock">   described in Section 4.e of the Trust Legal Provisions and are</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   provided without warranty as described in the <span class="delete">Simplifi</span>ed BSD License.</td><td> </td><td class="rblock">   provided without warranty as described in the <span class="insert">Revis</span>ed BSD License.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Table of Contents</td><td> </td><td class="right">Table of Contents</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <span class="delete">2</span></td><td> </td><td class="rblock">   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <span class="insert">3</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   2.  Requirements Language . . . . . . . . . . . . . . . . . . . .   <span class="delete">3</span></td><td> </td><td class="rblock">   2.  Requirements Language . . . . . . . . . . . . . . . . . . . .   <span class="insert">4</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   3.  Recommendations . . . . . . . . . . . . . . . . . . . . . . .   4</td><td> </td><td class="right">   3.  Recommendations . . . . . . . . . . . . . . . . . . . . . . .   4</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   4.  Updates to Existing RFCs  . . . . . . . . . . . . . . . . . .   4</td><td> </td><td class="right">   4.  Updates to Existing RFCs  . . . . . . . . . . . . . . . . . .   4</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     4.1.  BGP AS_PATH "Brief" Aggregation . . . . . . . . . . . . .   <span class="delete">4</span></td><td> </td><td class="rblock">     4.1.  BGP AS_PATH "Brief" Aggregation . . . . . . . . . . . . .   <span class="insert">5</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     4.2.  Issues with "Brief" AS_PATH Aggregation and RPKI-ROV  . .   5</td><td> </td><td class="right">     4.2.  Issues with "Brief" AS_PATH Aggregation and RPKI-ROV  . .   5</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     4.3.  Recommendations to Mitigate Unpredictable AS_PATH origins</td><td> </td><td class="right">     4.3.  Recommendations to Mitigate Unpredictable AS_PATH origins</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           for RPKI-ROV Purposes . . . . . . . . . . . . . . . . . .   6</td><td> </td><td class="right">           for RPKI-ROV Purposes . . . . . . . . . . . . . . . . . .   6</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   5.  Operational Considerations  . . . . . . . . . . . . . . . . .   6</td><td> </td><td class="right">   5.  Operational Considerations  . . . . . . . . . . . . . . . . .   6</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">6.  Security Considerations . . . . . . . . . . . . .</span> . . . . . .   6</td><td> </td><td class="rblock">   <span class="insert">  5.1.  Implementing Deterministic Brief Aggregation </span> . . . . . .   6</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">     5.2.  Not Advertising Aggregate Routes to Contributing ASes . .   7</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">     5.3.  Mitigating Forwarding Loops . . . . . . . . . . . . . . .   7</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   7</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   7</td><td> </td><td class="right">   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   7</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   8.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   <span class="delete">7</span></td><td> </td><td class="rblock">   8.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   <span class="insert">8</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   <span class="delete">7</span></td><td> </td><td class="rblock">   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   <span class="insert">8</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     9.1.  Normative References  . . . . . . . . . . . . . . . . . .   <span class="delete">7</span></td><td> </td><td class="rblock">     9.1.  Normative References  . . . . . . . . . . . . . . . . . .   <span class="insert">8</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     9.2.  Informative References  . . . . . . . . . . . . . . . . .   <span class="delete">7</span></td><td> </td><td class="rblock">     9.2.  Informative References  . . . . . . . . . . . . . . . . .   <span class="insert">8</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Appendix A.  Example of Route Filtering for Aggregate Routes and</td><td> </td><td class="right">   Appendix A.  Example of Route Filtering for Aggregate Routes and</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           its Contributors  . . . . . . . . . . . . . . . . . . . .  <span class="delete"> 9</span></td><td> </td><td class="rblock">           its Contributors  . . . . . . . . . . . . . . . . . . . .  <span class="insert">10</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Appendix B.  Examples of Inconsistent BGP Origin-AS Generated by</td><td> </td><td class="right">   Appendix B.  Examples of Inconsistent BGP Origin-AS Generated by</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Traditional Brief<span class="delete">-Style Aggregation . . . . . . . . . . .  10</span></td><td> </td><td class="rblock">           Traditional Brief<span class="insert"> Aggregation . . . . . . . . . . . . . .  11</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     B.1.  Scenario 1: First one route, then another, each with a</td><td> </td><td class="right">     B.1.  Scenario 1: First one route, then another, each with a</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           fully disjoint AS_PATH  . . . . . . . . . . . . . . . . .  1<span class="delete">1</span></td><td> </td><td class="rblock">           fully disjoint AS_PATH  . . . . . . . . . . . . . . . . .  1<span class="insert">2</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     B.2.  Scenario 2: First one route, then another, the AS_PATHs</td><td> </td><td class="right">     B.2.  Scenario 2: First one route, then another, the AS_PATHs</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           overlap at the origin AS. . . . . . . . . . . . . . . . .  1<span class="delete">1</span></td><td> </td><td class="rblock">           overlap at the origin AS. . . . . . . . . . . . . . . . .  1<span class="insert">2</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     B.3.  Scenario 3: First one route, then another, the AS_PATHs</td><td> </td><td class="right">     B.3.  Scenario 3: First one route, then another, the AS_PATHs</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           overlap at the neighbor AS  . . . . . . . . . . . . . . .  1<span class="delete">1</span></td><td> </td><td class="rblock">           overlap at the neighbor AS  . . . . . . . . . . . . . . .  1<span class="insert">2</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     B.4.  Achieving Consistent Origin-AS During Aggregation . . . .  1<span class="delete">2</span></td><td> </td><td class="rblock">     B.4.  Achieving Consistent Origin-AS During Aggregation . . . .  1<span class="insert">3</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   A<span class="delete">uthors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  12</span></td><td> </td><td class="rblock">   A<span class="insert">ppendix C.  Discussion on Forwarding Loops and AS_SETs . . . . .  13</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  14</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">1.  Introduction</td><td> </td><td class="right">1.  Introduction</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   BCP 172 [RFC6472] makes a recommendation for not using AS_SET (see</td><td> </td><td class="right">   BCP 172 [RFC6472] makes a recommendation for not using AS_SET (see</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [RFC4271]) and AS_CONFED_SET (see [RFC5065]) AS_PATH path segment</td><td> </td><td class="right">   [RFC4271]) and AS_CONFED_SET (see [RFC5065]) AS_PATH path segment</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   types in the Border Gateway Protocol (BGP).  This document advances</td><td> </td><td class="right">   types in the Border Gateway Protocol (BGP).  This document advances</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the BCP recommendation to a standards requirement in BGP; it</td><td> </td><td class="right">   the BCP recommendation to a standards requirement in BGP; it</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   proscribes the use of the AS_SET and AS_CONFED_SET types of path</td><td> </td><td class="right">   proscribes the use of the AS_SET and AS_CONFED_SET types of path</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   segments in the AS_PATH.  The purpose is to simplify the design and</td><td> </td><td class="right">   segments in the AS_PATH.  The purpose is to simplify the design and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   implementation of BGP and to make the semantics of the originator of</td><td> </td><td class="right">   implementation of BGP and to make the semantics of the originator of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> page 3, line 31</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> page 3, line 41</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   By performing aggregation, a router is combining multiple BGP routes</td><td> </td><td class="right">   By performing aggregation, a router is combining multiple BGP routes</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   for more specific destinations into a new route for a less specific</td><td> </td><td class="right">   for more specific destinations into a new route for a less specific</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   destination ([RFC4271], Section 9.1.2.2.).  Aggregation may blur the</td><td> </td><td class="right">   destination ([RFC4271], Section 9.1.2.2.).  Aggregation may blur the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   semantics of the origin AS for the prefix being announced by</td><td> </td><td class="right">   semantics of the origin AS for the prefix being announced by</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   producing an AS_SET or AS_CONFED_SET.  Such sets can cause</td><td> </td><td class="right">   producing an AS_SET or AS_CONFED_SET.  Such sets can cause</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   operational issues, such as not being able to authenticate a route</td><td> </td><td class="right">   operational issues, such as not being able to authenticate a route</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   origin for the aggregate prefix in new BGP security technologies such</td><td> </td><td class="right">   origin for the aggregate prefix in new BGP security technologies such</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   as those that take advantage of X.509 extensions for IP addresses and</td><td> </td><td class="right">   as those that take advantage of X.509 extensions for IP addresses and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   AS identifiers ([RFC3779], [RFC6480], [RFC6811], [RFC6907],</td><td> </td><td class="right">   AS identifiers ([RFC3779], [RFC6480], [RFC6811], [RFC6907],</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [RFC8205], [RFC9319]<span class="delete">,</span>).  This could result in reachability problems</td><td> </td><td class="rblock">   [RFC8205], [RFC9319]).  This could result in reachability problems</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   for the destinations covered by the aggregated prefix.</td><td> </td><td class="right">   for the destinations covered by the aggregated prefix.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   From analysis of historical Internet routing data, it is apparent</td><td> </td><td class="right">   From analysis of historical Internet routing data, it is apparent</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   that aggregation that involves AS_SETs is very seldom used in</td><td> </td><td class="right">   that aggregation that involves AS_SETs is very seldom used in</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   practice on the public Internet (<span class="delete">[Analysis]).  When it is used, it is</span></td><td> </td><td class="rblock">   practice on the public Internet (<span class="insert">see [Analysis]).  When it is used,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">often used incorrectly; only a single AS in the AS_SET is the most</span></td><td> </td><td class="rblock">   <span class="insert">it is often used incorrectly; only a single AS in the AS_SET is the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">common cases.  Also, very often the same AS appears in the</span></td><td> </td><td class="rblock">   <span class="insert">most common case [Analysis].  Also, very often the same AS appears in</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   AS_SEQUENCE and the AS_SET in the BGP update.  The occurrence of</td><td> </td><td class="rblock">   <span class="insert">the </span>AS_SEQUENCE and the AS_SET in the BGP update.  The occurrence of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   reserved AS numbers ([IANA-SP-ASN]) is also somewhat frequent.</td><td> </td><td class="right">   reserved AS numbers ([IANA-SP-ASN]) is also somewhat frequent.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">2.  Requirements Language</td><td> </td><td class="right">2.  Requirements Language</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",</td><td> </td><td class="right">   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and</td><td> </td><td class="right">   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   "OPTIONAL" in this document are to be interpreted as described in BCP</td><td> </td><td class="right">   "OPTIONAL" in this document are to be interpreted as described in BCP</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   14 [RFC2119] [RFC8174] when, and only when, they appear in all</td><td> </td><td class="right">   14 [RFC2119] [RFC8174] when, and only when, they appear in all</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   capitals, as shown here.</td><td> </td><td class="right">   capitals, as shown here.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.  Recommendations</td><td> </td><td class="right">3.  Recommendations</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   BGP speakers conforming to this document (i.e., conformant BGP</td><td> </td><td class="right">   BGP speakers conforming to this document (i.e., conformant BGP</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   speakers) SHOULD NOT locally generate BGP UPDATE messages containing</td><td> </td><td class="right">   speakers) SHOULD NOT locally generate BGP UPDATE messages containing</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   AS_SETs or AS_CONFED_SETs.  Conformant BGP speakers SHOULD NOT send</td><td> </td><td class="right">   AS_SETs or AS_CONFED_SETs.  Conformant BGP speakers SHOULD NOT send</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   BGP UPDATE messages containing AS_SETs or AS_CONFED_SETs.  Upon</td><td> </td><td class="right">   BGP UPDATE messages containing AS_SETs or AS_CONFED_SETs.  Upon</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   receipt of such messages, conformant BGP speakers SHOULD use the</td><td> </td><td class="right">   receipt of such messages, conformant BGP speakers SHOULD use the</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   "<span class="delete">T</span>reat-as-withdraw" error handling behavior as per [RFC7606].</td><td> </td><td class="rblock">   "<span class="insert">t</span>reat-as-withdraw" error handling behavior as per [RFC7606].</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   The document uses normative language such as "SHOULD NOT send" rather</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   than "MUST NOT send" with the intention of allowing some transition</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   time for existing implementations and avoiding abrupt disruptions for</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   the operators currently using AS_SETs or AS_CONFED_SETs.  However, it</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   is strongly urged that operators stop sending UPDATEs with AS_SETs or</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   AS_CONFED_SETs as quickly as possible to avoid having UPDATEs dropped</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   by BGP security mechanisms such as RPKI-ROV and BGPsec.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                                         </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   If a network operator wishes to consider BGP UPDATE messages with</td><td> </td><td class="right">   If a network operator wishes to consider BGP UPDATE messages with</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   AS_SETs or AS_CONFED_SETs received from an external BGP peers, they</td><td> </td><td class="right">   AS_SETs or AS_CONFED_SETs received from an external BGP peers, they</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   MAY have a feature (knob) in their implementation to do so on a per-</td><td> </td><td class="right">   MAY have a feature (knob) in their implementation to do so on a per-</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   peer basis.  The operator should understand the full implications of</td><td> </td><td class="right">   peer basis.  The operator should understand the full implications of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   choosing this option.</td><td> </td><td class="right">   choosing this option.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Network operators SHOULD NOT locally generate any new announcements</td><td> </td><td class="right">   Network operators SHOULD NOT locally generate any new announcements</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   containing AS_SETs or AS_CONFED_SETs.</td><td> </td><td class="right">   containing AS_SETs or AS_CONFED_SETs.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   BGP security technologies (such as those that take advantage of X.509</td><td> </td><td class="right">   BGP security technologies (such as those that take advantage of X.509</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   extensions for IP addresses and AS identifiers ([RFC3779], [RFC6480],</td><td> </td><td class="right">   extensions for IP addresses and AS identifiers ([RFC3779], [RFC6480],</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [RFC6811], [RFC8205]) might not support routes with AS_SETs or</td><td> </td><td class="right">   [RFC6811], [RFC8205]) might not support routes with AS_SETs or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   AS_CONFED_SETs in them.  Routes with AS_SETs have no possibility of</td><td> </td><td class="right">   AS_CONFED_SETs in them.  Routes with AS_SETs have no possibility of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   ever being considered RPKI-ROV valid [RFC6811] [RFC6907].</td><td> </td><td class="right">   ever being considered RPKI-ROV valid [RFC6811] [RFC6907].</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">4.  Updates to Existing RFCs</td><td> </td><td class="right">4.  Updates to Existing RFCs</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This document deprecates the origination of BGP routes with AS_SET</td><td> </td><td class="right">   This document deprecates the origination of BGP routes with AS_SET</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   (type 1)<span class="delete">.  ([RFC4271], Section 4.3)</span></td><td> </td><td class="rblock">   (type 1)<span class="insert"> (see [RFC4271], Section 4.3).</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This document also deprecates the origination of BGP routes with</td><td> </td><td class="right">   This document also deprecates the origination of BGP routes with</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   AS_CONFED_SET (type 4) AS_PATH segments<span class="delete">.  ([RFC5065], Section 3)</span></td><td> </td><td class="rblock">   AS_CONFED_SET (type 4) AS_PATH segments<span class="insert"> (see [RFC5065], Section 3).</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0023" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   BGP speakers conforming to this document <span class="delete">--</span> i.e., conformant BGP</td><td> </td><td class="rblock">   BGP speakers conforming to this document <span class="insert">—</span> i.e., conformant BGP</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   speakers <span class="delete">--</span> SHOULD NOT originate BGP UPDATE messages containing</td><td> </td><td class="rblock">   speakers <span class="insert">—</span> SHOULD NOT originate BGP UPDATE messages containing</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   AS_SETs or AS_CONFED_SETs.  Upon receipt of BGP routes containing</td><td> </td><td class="right">   AS_SETs or AS_CONFED_SETs.  Upon receipt of BGP routes containing</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0024" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   AS_SETs, conformant BGP speakers SHOULD use the "<span class="delete">T</span>reat-as-withdraw"</td><td> </td><td class="rblock">   AS_SETs, conformant BGP speakers SHOULD use the "<span class="insert">t</span>reat-as-withdraw"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   error handling behavior as per [RFC7606].</td><td> </td><td class="right">   error handling behavior as per [RFC7606].</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">4.1.  BGP AS_PATH "Brief" Aggregation</td><td> </td><td class="right">4.1.  BGP AS_PATH "Brief" Aggregation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0025" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">[RFC4271], Sections 9.1.4 and 9.2.2.2, describes</span> BGP aggregation</td><td> </td><td class="rblock">   <span class="insert">Sections 9.1.4 and 9.2.2.2 of [RFC4271] describe</span> BGP aggregation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   procedures.  <span class="delete">[RFC4271], Appendix F.6</span> describes a generally</td><td> </td><td class="rblock">   procedures.  <span class="insert">Appendix F.6 in [RFC4271]</span> describes a generally</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   unimplemented "Complex AS_PATH Aggregation" procedure.</td><td> </td><td class="right">   unimplemented "Complex AS_PATH Aggregation" procedure.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [RFC4271], Section 5.1.6, describing the ATOMIC_AGGREGATE Path</td><td> </td><td class="right">   [RFC4271], Section 5.1.6, describing the ATOMIC_AGGREGATE Path</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Attribute, notes that:</td><td> </td><td class="right">   Attribute, notes that:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  When a BGP speaker aggregates several routes for the purpose of</td><td> </td><td class="right">   |  When a BGP speaker aggregates several routes for the purpose of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  advertisement to a particular peer, the AS_PATH of the aggregated</td><td> </td><td class="right">   |  advertisement to a particular peer, the AS_PATH of the aggregated</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  route normally includes an AS_SET formed from the set of ASes from</td><td> </td><td class="right">   |  route normally includes an AS_SET formed from the set of ASes from</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  which the aggregate was formed.  In many cases, the network</td><td> </td><td class="right">   |  which the aggregate was formed.  In many cases, the network</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  administrator can determine if the aggregate can safely be</td><td> </td><td class="right">   |  administrator can determine if the aggregate can safely be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  advertised without the AS_SET, and without forming route loops.</td><td> </td><td class="right">   |  advertised without the AS_SET, and without forming route loops.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |</td><td> </td><td class="right">   |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  If an aggregate excludes at least some of the AS numbers present</td><td> </td><td class="right">   |  If an aggregate excludes at least some of the AS numbers present</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  in the AS_PATH of the routes that are aggregated as a result of</td><td> </td><td class="right">   |  in the AS_PATH of the routes that are aggregated as a result of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  dropping the AS_SET, the aggregated route, when advertised to the</td><td> </td><td class="right">   |  dropping the AS_SET, the aggregated route, when advertised to the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  peer, SHOULD include the ATOMIC_AGGREGATE attribute.</td><td> </td><td class="right">   |  peer, SHOULD include the ATOMIC_AGGREGATE attribute.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0026" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   When BGP AS_PATH aggregation is done according to the <span class="delete">Section 9.2.2.2</span></td><td> </td><td class="rblock">   When BGP AS_PATH aggregation is done according to the <span class="insert">[RFC4271],</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">procedures and any resulting AS_SETs are discarded, this is typically</span></td><td> </td><td class="rblock">   <span class="insert">Section 9.2.2.2, procedures and any resulting AS_SETs are discarded,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">referred to as "brief" aggreation in implementations.  This results</span></td><td> </td><td class="rblock">   <span class="insert">this is typically referred to as "brief" aggregation in</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   i<span class="delete">n an AS_PATH that has the property (from Section 9.2.2.2):</span></td><td> </td><td class="rblock">   i<span class="insert">mplementations.  Brief aggregation results in an AS_PATH that has</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   the property (from [RFC4271], Section 9.2.2.2):</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  determine the longest leading sequence of tuples (as defined</td><td> </td><td class="right">   |  determine the longest leading sequence of tuples (as defined</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  above) common to all the AS_PATH attributes of the routes to be</td><td> </td><td class="right">   |  above) common to all the AS_PATH attributes of the routes to be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  aggregated.  Make this sequence the leading sequence of the</td><td> </td><td class="right">   |  aggregated.  Make this sequence the leading sequence of the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  aggregated AS_PATH attribute.</td><td> </td><td class="right">   |  aggregated AS_PATH attribute.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The ATOMIC_AGGREGATE Path Attribute is subsequently attached to the</td><td> </td><td class="right">   The ATOMIC_AGGREGATE Path Attribute is subsequently attached to the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   BGP route, if AS_SETs are dropped.</td><td> </td><td class="right">   BGP route, if AS_SETs are dropped.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">4.2.  Issues with "Brief" AS_PATH Aggregation and RPKI-ROV</td><td> </td><td class="right">4.2.  Issues with "Brief" AS_PATH Aggregation and RPKI-ROV</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> page 6, line 12</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> page 6, line 23</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      (ROAs) [RFC6482] for each potential origin AS that may result from</td><td> </td><td class="right">      (ROAs) [RFC6482] for each potential origin AS that may result from</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      the expected aggregated AS_PATHs.</td><td> </td><td class="right">      the expected aggregated AS_PATHs.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">4.3.  Recommendations to Mitigate Unpredictable AS_PATH origins for</td><td> </td><td class="right">4.3.  Recommendations to Mitigate Unpredictable AS_PATH origins for</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      RPKI-ROV Purposes</td><td> </td><td class="right">      RPKI-ROV Purposes</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   In order to ensure a consistent BGP origin AS is announced for</td><td> </td><td class="right">   In order to ensure a consistent BGP origin AS is announced for</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   aggregate BGP routes for implementations of "brief" BGP aggregation,</td><td> </td><td class="right">   aggregate BGP routes for implementations of "brief" BGP aggregation,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the implementation should be configured to truncate the AS_PATH after</td><td> </td><td class="right">   the implementation should be configured to truncate the AS_PATH after</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the right-most instance of the desired origin AS for the aggregate.</td><td> </td><td class="right">   the right-most instance of the desired origin AS for the aggregate.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0027" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   The desired origin AS could be the aggregating AS itself.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0028" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   This form of brief aggregation is referred to as "deterministic</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   brief" BGP aggregation.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                                         </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   If the resulting AS_PATH would be truncated from the otherwise</td><td> </td><td class="right">   If the resulting AS_PATH would be truncated from the otherwise</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0029" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   expected result of BGP AS_PATH aggregation (an AS_SET would be</td><td> </td><td class="rblock">   expected result of BGP AS_PATH aggregation (an AS_SET would <span class="insert">not </span>be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   generated, <span class="delete">or ASes are removed from the "longest leading sequence" of</span></td><td> </td><td class="rblock">   generated, <span class="insert">and/or ASes are removed from the "longest leading</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">ASes), the ATOMIC_AGGREGATE Path Attribute SHALL be attached.  This</span></td><td> </td><td class="rblock">   <span class="insert">sequence" of ASes), the ATOMIC_AGGREGATE Path Attribute SHALL be</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">is consistent with the intent of Section 5.1.6 of [RFC4271].</span></td><td> </td><td class="rblock">   <span class="insert">attached.  This is consistent with the intent of Section 5.1.6 of</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   [RFC4271].</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">5.  Operational Considerations</td><td> </td><td class="right">5.  Operational Considerations</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0030" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">5.1.  Implementing Deterministic Brief Aggregation</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                                         </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   When aggregating prefixes, network operators MUST use brief</td><td> </td><td class="right">   When aggregating prefixes, network operators MUST use brief</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0031" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">aggregation.  In brief aggregation, the AGGREGATOR and</span></td><td> </td><td class="rblock">   <span class="insert">deterministic aggregation as described in Section 4.3.  In</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">ATOMIC_AGGREGATE Path Attributes are included, but the AS_PATH does</span></td><td> </td><td class="rblock">   <span class="insert">deterministic brief aggregation, the AGGREGATOR and ATOMIC_AGGREGATE</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">not have AS_SET or AS_CONFED_SET path segment types.</span></td><td> </td><td class="rblock">   <span class="insert">Path Attributes are included, but the AS_PATH does not have AS_SET or</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   AS_CONFED_SET path segment types.  See Appendix B for examples of</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   brief aggregation while keeping the origin AS unambiguous and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   generating appropriate ROAs.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0032" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   When doing the above, operators MUST form the aggregate at the border</span></td><td> </td><td class="rblock"><span class="insert">5.2.  Not Advertising Aggregate Routes to Contributing ASes</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   in the outbound BGP policy and omit any prefixes from the AS that the</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   aggregate is being advertised to.  In other words, an aggregate</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   prefix MUST NOT be announced to the contributing ASes.  Instead, more</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   specific prefixes (from the aggregate) MUST be announced to each</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   contributing AS, excluding any that were learned from the</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   contributing AS in consideration.  See Appendix A for an example of</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   this filtering policy.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0033" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">Operators MUST install egress filters to block data packets when the</span></td><td> </td><td class="rblock">   <span class="insert">An aggregate prefix MUST NOT be announced to the contributing ASes.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">destination address belongs to an internal prefix.  Similarly, any</span></td><td> </td><td class="rblock">   <span class="insert">Instead, more specific prefixes (from the aggregate) MUST be</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">known single-homed customer prefix MUST also be included in the</span></td><td> </td><td class="rblock">   <span class="insert">announced to each contributing AS, excluding any that were learned</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">egress filters except on the interface for that customer.  This</span></td><td> </td><td class="rblock">   <span class="insert">from the contributing AS in consideration.  See Appendix A for an</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">mitigates looping in the data plane when connection to such an</span></td><td> </td><td class="rblock">   <span class="insert">example of this filtering policy.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   internal or customer prefix is lost.  This mechanism effectively</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   compensates for the lack of the additional loop detection capability</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   accorded by AS_SETs (if they were allowed).</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0034" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">5.3.  Mitigating Forwarding Loops</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                                         </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   As discussed in Section 5.1 of [RFC4632], the presence of both less</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   specific and more specific destinations has the possibility to create</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   forwarding loops between networks.  This can occur when forwarding</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   for a more specific destination is not fully covered in the routing</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   table of a network originating a less specific destination.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                                         </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Such a forwarding loop can occur when the less specific destination</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   is created by aggregating local more specific destinations and the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   less specific aggregate route is advertised by BGP.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                                         </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Operators MUST install in their forwarding a covering route for the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   aggregate.  Traditionally this aggregate route will discard traffic</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   that is sent to it.  (Rule #2 of Section 5.1 of [RFC4632].)  Most</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   implementations of aggregation currently implement this behavior.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                                         </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Further discussion of forwarding loops and their relationship to</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   AS_SETs can be found in Appendix C.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                                         </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">6.  Security Considerations</td><td> </td><td class="right">6.  Security Considerations</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0035" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   This document <span class="delete">obsoletes the use of aggregation techniques that create</span></td><td> </td><td class="rblock">   This document <span class="insert">deprecates the use of aggregation techniques that</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">AS_SETs or AS_CONFED_SETs.  Obsoleting these path segment types from</span></td><td> </td><td class="rblock">   <span class="insert">create AS_SETs or AS_CONFED_SETs.  Obsoleting these path segment</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">BGP and removal of the related code from implementations would</span></td><td> </td><td class="rblock">   <span class="insert">types from BGP and removal of the related code from implementations</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">potentially decrease the attack surface for BGP.  Deployments of new</span></td><td> </td><td class="rblock">   <span class="insert">would potentially decrease the attack surface for BGP.  Deployments</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">BGP security technologies ([RFC6480], [RFC6811], [RFC8205]) benefit</span></td><td> </td><td class="rblock">   <span class="insert">of new BGP security technologies ([RFC6480], [RFC6811], [RFC8205])</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">greatly if AS</span>_SETs are not used in BGP.</td><td> </td><td class="rblock">   <span class="insert">benefit greatly if AS_SETs and AS_CONFED</span>_SETs are not used in BGP.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">7.  IANA Considerations</td><td> </td><td class="right">7.  IANA Considerations</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This document requires no IANA actions.</td><td> </td><td class="right">   This document requires no IANA actions.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">8.  Acknowledgements</td><td> </td><td class="right">8.  Acknowledgements</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The authors would like to thank John Heasley, Job Snijders, Jared</td><td> </td><td class="right">   The authors would like to thank John Heasley, Job Snijders, Jared</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Mauch, Jakob Heitz, Keyur Patel, Douglas Montgomery, Randy Bush,</td><td> </td><td class="right">   Mauch, Jakob Heitz, Keyur Patel, Douglas Montgomery, Randy Bush,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Susan Hares, John Scudder, Curtis Villamizar, Danny McPherson, Chris</td><td> </td><td class="right">   Susan Hares, John Scudder, Curtis Villamizar, Danny McPherson, Chris</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Morrow, Tom Petch, Ilya Varlashkin, Enke Chen, Tony Li, Florian</td><td> </td><td class="right">   Morrow, Tom Petch, Ilya Varlashkin, Enke Chen, Tony Li, Florian</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Weimer, John Leslie, Paul Jakma, Rob Austein, Russ Housley, Sandra</td><td> </td><td class="right">   Weimer, John Leslie, Paul Jakma, Rob Austein, Russ Housley, Sandra</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Murphy, Steve Bellovin, Steve Kent, Steve Padgett, Alfred Hoenes, and</td><td> </td><td class="right">   Murphy, Steve Bellovin, Steve Kent, Steve Padgett, Alfred Hoenes, and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Alvaro Retana for comments and suggestions.</td><td> </td><td class="right">   Alvaro Retana for comments and suggestions.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">9.  References</td><td> </td><td class="right">9.  References</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">9.1.  Normative References</td><td> </td><td class="right">9.1.  Normative References</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0036" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [RFC2119]  Bradner, S.<span class="delete"> and RFC Publisher, "Key words for use in RFCs</span></td><td> </td><td class="rblock">   [RFC2119]  Bradner, S.<span class="insert">, "Key words for use in RFCs to Indicate</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">to Indicate </span>Requirement Levels", BCP 14, RFC 2119,</td><td> </td><td class="rblock">              Requirement Levels", BCP 14, RFC 2119,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              DOI 10.17487/RFC2119, March 1997,</td><td> </td><td class="right">              DOI 10.17487/RFC2119, March 1997,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc2119&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc2119&gt;.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0037" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [RFC4271]  Rekhter, Y., Ed., Li, T., Ed., <span class="delete">Hares, S., Ed., and RFC</span></td><td> </td><td class="rblock">   [RFC4271]  Rekhter, Y., Ed., Li, T., Ed., <span class="insert">and S. Hares, Ed., "A</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">Publisher, "A Border Gateway Protocol 4 (BGP-4)"</span>,</td><td> </td><td class="rblock">              <span class="insert">Border Gateway Protocol 4 (BGP-4)", RFC 4271</span>,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">RFC 4271, </span>DOI 10.17487/RFC4271, January 2006,</td><td> </td><td class="rblock">              DOI 10.17487/RFC4271, January 2006,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc4271&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc4271&gt;.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0038" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [RFC<span class="delete">5065]  Traina, P., McPherson, D., Scudder, J., and RFC Publisher,</span></td><td> </td><td class="rblock">   [RFC<span class="insert">4632]  Fuller, V. and T. Li, "Classless Inter-domain Routing</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">"Autonomous System Confederations for BGP", RFC 5065,</span></td><td> </td><td class="rblock">              <span class="insert">(CIDR): The Internet Address Assignment and Aggregation</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              Plan", BCP 122, RFC 4632, DOI 10.17487/RFC4632, August</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              2006, &lt;https://www.rfc-editor.org/info/rfc4632&gt;.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                                         </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   [RFC5065]  Traina, P., McPherson, D., and J. Scudder, "Autonomous</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              System Confederations for BGP", RFC 5065,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              DOI 10.17487/RFC5065, August 2007,</td><td> </td><td class="right">              DOI 10.17487/RFC5065, August 2007,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc5065&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc5065&gt;.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">9.2.  Informative References</td><td> </td><td class="right">9.2.  Informative References</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [Analysis] Hannachi, L. and K. Sriram, "Detailed analysis of AS_SETs</td><td> </td><td class="right">   [Analysis] Hannachi, L. and K. Sriram, "Detailed analysis of AS_SETs</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              in BGP updates", NIST Robust Inter-domain Routing Project</td><td> </td><td class="right">              in BGP updates", NIST Robust Inter-domain Routing Project</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Website , October 2019,</td><td> </td><td class="right">              Website , October 2019,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              &lt;https://github.com/ksriram25/IETF/blob/main/Detailed-</td><td> </td><td class="right">              &lt;https://github.com/ksriram25/IETF/blob/main/Detailed-</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              AS_SET-analysis.txt&gt;.</td><td> </td><td class="right">              AS_SET-analysis.txt&gt;.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [IANA-SP-ASN]</td><td> </td><td class="right">   [IANA-SP-ASN]</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              "Special-Purpose Autonomous System (AS) Numbers",</td><td> </td><td class="right">              "Special-Purpose Autonomous System (AS) Numbers",</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              &lt;https://www.iana.org/assignments/iana-as-numbers-special-</td><td> </td><td class="right">              &lt;https://www.iana.org/assignments/iana-as-numbers-special-</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              registry/iana-as-numbers-special-registry.xhtml&gt;.</td><td> </td><td class="right">              registry/iana-as-numbers-special-registry.xhtml&gt;.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0039" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [RFC3779]  Lynn, C., Kent, S., <span class="delete">Seo, K., and RFC Publisher, "X.509</span></td><td> </td><td class="rblock">   [RFC3779]  Lynn, C., Kent, S., <span class="insert">and K. Seo, "X.509 Extensions for IP</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">Extensions for IP </span>Addresses and AS Identifiers", RFC 3779,</td><td> </td><td class="rblock">              Addresses and AS Identifiers", RFC 3779,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              DOI 10.17487/RFC3779, June 2004,</td><td> </td><td class="right">              DOI 10.17487/RFC3779, June 2004,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc3779&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc3779&gt;.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0040" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [RFC6472]  Kumari, W.<span class="delete">, Sriram, K., and RFC Publisher, "Recommendation</span></td><td> </td><td class="rblock">   [RFC6472]  Kumari, W.<span class="insert"> and K. Sriram, "Recommendation for Not Using</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">for Not Using AS_SET and AS_CONFED_SET in BGP", BCP 1</span>72,</td><td> </td><td class="rblock">              <span class="insert">AS_SET and AS_CONFED_SET in BGP", BCP 172, RFC 64</span>72,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">RFC 6472, </span>DOI 10.17487/RFC6472, December 2011,</td><td> </td><td class="rblock">              DOI 10.17487/RFC6472, December 2011,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc6472&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc6472&gt;.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0041" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [RFC6480]  Lepinski, M.<span class="delete">, Kent, S., and RFC Publisher, "An</span></td><td> </td><td class="rblock">   [RFC6480]  Lepinski, M.<span class="insert"> and S. Kent, "An Infrastructure to Support</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">Infrastructure to Support Secure Internet Routing"</span>,</td><td> </td><td class="rblock">              <span class="insert">Secure Internet Routing", RFC 6480, DOI 10.17487/RFC6480</span>,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">RFC 6480, DOI 10.17487/RFC6480, February 2012,</span></td><td> </td><td class="rblock">              <span class="insert">February 2012, &lt;https://www.rfc-editor.org/info/rfc6480&gt;.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">              &lt;https://www.rfc-editor.org/info/rfc6480&gt;.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0042" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [RFC6482]  Lepinski, M., Kent, S., <span class="delete">Kong, D., and RFC Publisher, "A</span></td><td> </td><td class="rblock">   [RFC6482]  Lepinski, M., Kent, S., <span class="insert">and D. Kong, "A Profile for Route</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">Profile for Route </span>Origin Authorizations (ROAs)", RFC 6482,</td><td> </td><td class="rblock">              Origin Authorizations (ROAs)", RFC 6482,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              DOI 10.17487/RFC6482, February 2012,</td><td> </td><td class="right">              DOI 10.17487/RFC6482, February 2012,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc6482&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc6482&gt;.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0043" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [RFC6811]  Mohapatra, P., Scudder, J., Ward, D., Bush, R., <span class="delete">Austein,</span></td><td> </td><td class="rblock">   [RFC6811]  Mohapatra, P., Scudder, J., Ward, D., Bush, R., <span class="insert">and R.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">R., and RFC Publisher, "BGP Prefix Origin Validation"</span>,</td><td> </td><td class="rblock">              <span class="insert">Austein, "BGP Prefix Origin Validation", RFC 6811</span>,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">RFC 6811, </span>DOI 10.17487/RFC6811, January 2013,</td><td> </td><td class="rblock">              DOI 10.17487/RFC6811, January 2013,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc6811&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc6811&gt;.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0044" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [RFC6907]  Manderson, T., Sriram, K., <span class="delete">White, R., and RFC Publisher,</span></td><td> </td><td class="rblock">   [RFC6907]  Manderson, T., Sriram, K., <span class="insert">and R. White, "Use Cases and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">"Use Cases and Interpretations of Resource Public Key</span></td><td> </td><td class="rblock">              <span class="insert">Interpretations of Resource Public Key Infrastructure</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">Infrastructure (RPKI) Objects for Issuers and Relying</span></td><td> </td><td class="rblock">              <span class="insert">(RPKI) Objects for Issuers and Relying Parties", RFC 6907,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">Parties", RFC 6907, </span>DOI 10.17487/RFC6907, March 2013,</td><td> </td><td class="rblock">              DOI 10.17487/RFC6907, March 2013,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc6907&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc6907&gt;.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0045" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [RFC7606]  Chen, E., Ed., Scudder, J., Ed., Mohapatra, P., <span class="delete">Patel, K.,</span></td><td> </td><td class="rblock">   [RFC7606]  Chen, E., Ed., Scudder, J., Ed., Mohapatra, P., <span class="insert">and K.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">and RFC Publisher, "Revised Error Handling for BGP UPDATE</span></td><td> </td><td class="rblock">              <span class="insert">Patel, "Revised Error Handling for BGP UPDATE Messages",</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">Messages", </span>RFC 7606, DOI 10.17487/RFC7606, August 2015,</td><td> </td><td class="rblock">              RFC 7606, DOI 10.17487/RFC7606, August 2015,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc7606&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc7606&gt;.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0046" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [RFC8174]  Leiba, B.<span class="delete"> and RFC Publisher, "Ambiguity of Uppercase vs</span></td><td> </td><td class="rblock">   [RFC8174]  Leiba, B.<span class="insert">, "Ambiguity of Uppercase vs Lowercase in RFC</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">Lowercase in RFC 2119 Key Words", BCP 14, RFC </span>8174,</td><td> </td><td class="rblock">              <span class="insert">2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC</span>8174,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">DOI 10.17487/RFC8174, May 2017,</span></td><td> </td><td class="rblock">              <span class="insert">May 2017, &lt;https://www.rfc-editor.org/info/rfc8174&gt;.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">              &lt;https://www.rfc-editor.org/info/rfc8174&gt;.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0047" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [RFC8205]  Lepinski, M., Ed.<span class="delete">, Sriram, K., Ed., and RFC Publisher,</span></td><td> </td><td class="rblock">   [RFC8205]  Lepinski, M., Ed.<span class="insert"> and K. Sriram, Ed., "BGPsec Protocol</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">"BGPsec Protocol Specification", RFC 8205,</span></td><td> </td><td class="rblock">              <span class="insert">Specification", RFC 8205, DOI 10.17487/RFC8205, September</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">DOI 10.17487/RFC8205, September 2017,</span></td><td> </td><td class="rblock">              <span class="insert">2017, &lt;https://www.rfc-editor.org/info/rfc8205&gt;.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">              &lt;https://www.rfc-editor.org/info/rfc8205&gt;.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0048" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [RFC9319]  Gilad, Y., Goldberg, S., Sriram, K., Snijders, J.,</td><td> </td><td class="rblock">   [RFC9319]  Gilad, Y., Goldberg, S., Sriram, K., Snijders, J.,<span class="insert"> and B.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              Maddison, <span class="delete">B., and RFC Publisher, "The Use of maxLength in</span></td><td> </td><td class="rblock">              Maddison, <span class="insert">"The Use of maxLength in the Resource Public Key</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">the Resource Public Key Infrastructure (RPKI)", BCP 185</span>,</td><td> </td><td class="rblock">              <span class="insert">Infrastructure (RPKI)", BCP 185, RFC 9319</span>,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">RFC 9319, </span>DOI 10.17487/RFC9319, October 2022,</td><td> </td><td class="rblock">              DOI 10.17487/RFC9319, October 2022,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc9319&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc9319&gt;.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Appendix A.  Example of Route Filtering for Aggregate Routes and its</td><td> </td><td class="right">Appendix A.  Example of Route Filtering for Aggregate Routes and its</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">             Contributors</td><td> </td><td class="right">             Contributors</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0049" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">For illustration, if p1/24 (from AS1), p2/24 (from AS2), p3/24 (from</span></td><td> </td><td class="rblock">   <span class="insert">Presented here is an illustration of how an AS_SET is not used when</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">AS3) and p4/24 (from AS4) are aggregated by AS 5 to p/22, then p/22</span></td><td> </td><td class="rblock">   <span class="insert">aggregating and still data-plane route loops are avoided.  Consider</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">will not be announced to AS1, AS2, AS3, or AS4.  Instead, as further</span></td><td> </td><td class="rblock">   <span class="insert">that p1/24 (from AS 64501), p2/24 (from AS 64502), p3/24 (from AS</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">illustration, p1/24, p2/24 and p4/24 are announced to AS3</span>.</td><td> </td><td class="rblock">   <span class="insert">64503), and p4/24 (from AS 64504) are aggregated by AS 64505 to p/22</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   AS_SET is not used with the aggregate p/22 but AGGREGATOR and ATOMIC</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   AGGREGATE are used.  Data-plane route loops are avoided by not</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   announcing the aggregate p/22 to the contributing ASes, i.e., AS</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   64501, AS 64502, AS 64503, and AS 64504.  Instead, as further</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   illustration, p1/24, p2/24, and p4/24 are announced to AS 64503.  The</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   routing tables (post aggregation) of each of the ASes are depicted in</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   the diagram below.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         (       )     (       )           (       )     (       )</td><td> </td><td class="right">         (       )     (       )           (       )     (       )</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">        ( AS64501 )   ( AS64502 )         ( AS64503 )   ( AS64504 )</td><td> </td><td class="right">        ( AS64501 )   ( AS64502 )         ( AS64503 )   ( AS64504 )</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         (       )     (       )           (       )     (       )</td><td> </td><td class="right">         (       )     (       )           (       )     (       )</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           p1/24         p2/24               p3/24         p4/24</td><td> </td><td class="right">           p1/24         p2/24               p3/24         p4/24</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">             |             |                   |             |</td><td> </td><td class="right">             |             |                   |             |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">             |             +--&gt;  (       )  &lt;--+             |</td><td> </td><td class="right">             |             +--&gt;  (       )  &lt;--+             |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">             |                  ( AS64505 )                  |</td><td> </td><td class="right">             |                  ( AS64505 )                  |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">             +----------------&gt;  (       )  &lt;----------------+</td><td> </td><td class="right">             +----------------&gt;  (       )  &lt;----------------+</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                    p/22</td><td> </td><td class="right">                                    p/22</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> page 10, line 40</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> page 11, line 40</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">        AS 64505</td><td> </td><td class="right">        AS 64505</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">        ==========================</td><td> </td><td class="right">        ==========================</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">        p/22  AS_PATH "" AGGREGATOR 64505 ATOMIC_AGGREGATE</td><td> </td><td class="right">        p/22  AS_PATH "" AGGREGATOR 64505 ATOMIC_AGGREGATE</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">        p1/24 AS_PATH "64501"</td><td> </td><td class="right">        p1/24 AS_PATH "64501"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">        p2/24 AS_PATH "64502"</td><td> </td><td class="right">        p2/24 AS_PATH "64502"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">        p3/24 AS_PATH "64503"</td><td> </td><td class="right">        p3/24 AS_PATH "64503"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">        p4/24 AS_PATH "64504"</td><td> </td><td class="right">        p4/24 AS_PATH "64504"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Appendix B.  Examples of Inconsistent BGP Origin-AS Generated by</td><td> </td><td class="right">Appendix B.  Examples of Inconsistent BGP Origin-AS Generated by</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0050" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">             Traditional Brief<span class="delete">-Style</span> Aggregation</td><td> </td><td class="rblock">             Traditional Brief Aggregation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0051" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   In the examples below, it is illustrated how traditional brief</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   aggregation may result in an inconsistent origin AS.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                                         </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   AS 64500 aggregates more specific routes into 192.0.2.0/24.</td><td> </td><td class="right">   AS 64500 aggregates more specific routes into 192.0.2.0/24.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0052" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Consider the following scenarios where brief<span class="delete">-style aggregation is</span></td><td> </td><td class="rblock">   Consider the following scenarios where brief<span class="insert"> aggregation is done by</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">done by </span>AS 64500 and what the resultant origin ASes would be.</td><td> </td><td class="rblock">   AS 64500 and what the resultant origin ASes would be.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Routes:</td><td> </td><td class="right">   Routes:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   R1 - 192.0.2.0/26   AS_PATH "64501"</td><td> </td><td class="right">   R1 - 192.0.2.0/26   AS_PATH "64501"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   R2 - 192.0.2.64/26  AS_PATH "64502"</td><td> </td><td class="right">   R2 - 192.0.2.64/26  AS_PATH "64502"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   R3 - 192.0.2.128/26 AS_PATH "64504 64502"</td><td> </td><td class="right">   R3 - 192.0.2.128/26 AS_PATH "64504 64502"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   R4 - 192.0.2.192/26 AS_PATH "64504 64501"</td><td> </td><td class="right">   R4 - 192.0.2.192/26 AS_PATH "64504 64501"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">B.1.  Scenario 1: First one route, then another, each with a fully</td><td> </td><td class="right">B.1.  Scenario 1: First one route, then another, each with a fully</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      disjoint AS_PATH</td><td> </td><td class="right">      disjoint AS_PATH</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> page 11, line 31</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> page 12, line 31</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   empty AS_PATH, "".</td><td> </td><td class="right">   empty AS_PATH, "".</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The resulting AS_PATH is thus not stable and depends on the presence</td><td> </td><td class="right">   The resulting AS_PATH is thus not stable and depends on the presence</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   of specific routes.</td><td> </td><td class="right">   of specific routes.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">B.2.  Scenario 2: First one route, then another, the AS_PATHs overlap at</td><td> </td><td class="right">B.2.  Scenario 2: First one route, then another, the AS_PATHs overlap at</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      the origin AS.</td><td> </td><td class="right">      the origin AS.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Receive R1.  Aggregate 192.0.2.0/24 AS_PATH "64501"</td><td> </td><td class="right">   Receive R1.  Aggregate 192.0.2.0/24 AS_PATH "64501"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0053" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Receive R4.  Aggregate 192.0.2.0/24 AS_PATH "<span class="delete">64504 [</span> 64501 ]"</td><td> </td><td class="rblock">   Receive R4.  Aggregate 192.0.2.0/24 AS_PATH "<span class="insert">[ 64504</span> 64501 ]"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0054" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   If brief aggregation is in use, the AS_PATH is truncated to "<span class="delete">64504</span>".</td><td> </td><td class="rblock">   If brief aggregation is in use, the AS_PATH is truncated to "".</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The resulting AS_PATH is thus not stable and depends on the presence</td><td> </td><td class="right">   The resulting AS_PATH is thus not stable and depends on the presence</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   of specific routes.</td><td> </td><td class="right">   of specific routes.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">B.3.  Scenario 3: First one route, then another, the AS_PATHs overlap at</td><td> </td><td class="right">B.3.  Scenario 3: First one route, then another, the AS_PATHs overlap at</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      the neighbor AS</td><td> </td><td class="right">      the neighbor AS</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Receive R3.  Aggregate 192.0.2.0/24 AS_PATH "64504 64501".</td><td> </td><td class="right">   Receive R3.  Aggregate 192.0.2.0/24 AS_PATH "64504 64501".</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Receive R4.  Aggregate 192.0.2.0/24 AS_PATH "64504 [ 64501 64502 ]"</td><td> </td><td class="right">   Receive R4.  Aggregate 192.0.2.0/24 AS_PATH "64504 [ 64501 64502 ]"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   If brief aggregation is in use, the AS_PATH is truncated to "64504".</td><td> </td><td class="right">   If brief aggregation is in use, the AS_PATH is truncated to "64504".</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The resulting AS_PATH is thus not stable and depends on the presence</td><td> </td><td class="right">   The resulting AS_PATH is thus not stable and depends on the presence</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   of specific routes.</td><td> </td><td class="right">   of specific routes.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">B.4.  Achieving Consistent Origin-AS During Aggregation</td><td> </td><td class="right">B.4.  Achieving Consistent Origin-AS During Aggregation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   In the three scenarios above, the aggregating AS 64500 is using</td><td> </td><td class="right">   In the three scenarios above, the aggregating AS 64500 is using</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0055" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   traditional brief <span class="delete">style aggregation.  This results in inconsistent</span></td><td> </td><td class="rblock">   traditional brief <span class="insert">aggregation.  This results in inconsistent origin</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">origin ASes as the contributing routes are learned.</span></td><td> </td><td class="rblock">   <span class="insert">ASes as the contributing routes are learned.  This motivates the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   "deterministic brief" BGP aggregation discussed in Section 4.3.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The trivial solution to addressing the issue is to simply discard all</td><td> </td><td class="right">   The trivial solution to addressing the issue is to simply discard all</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   of the ASes for the contributing routes.  In simple BGP aggregation</td><td> </td><td class="right">   of the ASes for the contributing routes.  In simple BGP aggregation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   topologies, this is likely the correct thing to do.  The AS</td><td> </td><td class="right">   topologies, this is likely the correct thing to do.  The AS</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   originating the aggregate, 192.0.2.0/24 in this example, is likely</td><td> </td><td class="right">   originating the aggregate, 192.0.2.0/24 in this example, is likely</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the resource holder for the route in question.  In such a case,</td><td> </td><td class="right">   the resource holder for the route in question.  In such a case,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   simply originating the route to its BGP upstream neighbors in the</td><td> </td><td class="right">   simply originating the route to its BGP upstream neighbors in the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Internet with its own AS, 64500, means that a consistent Route Origin</td><td> </td><td class="right">   Internet with its own AS, 64500, means that a consistent Route Origin</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Authorization (ROA) could be registered in the RPKI for this prefix.</td><td> </td><td class="right">   Authorization (ROA) could be registered in the RPKI for this prefix.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This satisfies the need for a consistent origin AS.</td><td> </td><td class="right">   This satisfies the need for a consistent origin AS.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   If the contributing ASes are themselves multihomed to the Internet</td><td> </td><td class="right">   If the contributing ASes are themselves multihomed to the Internet</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   outside of their connections to AS 64500, then additional ROAs would</td><td> </td><td class="right">   outside of their connections to AS 64500, then additional ROAs would</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   need to be created for each of the more specific prefixes.</td><td> </td><td class="right">   need to be created for each of the more specific prefixes.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   In more complex proxy aggregation scenarios, there may be a desire to</td><td> </td><td class="right">   In more complex proxy aggregation scenarios, there may be a desire to</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0056" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   permit some stable <span class="delete">portion of the contributing AS to be kept in the</span></td><td> </td><td class="rblock">   permit some stable <span class="insert">(i.e., common) portion of the contributing</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">aggregate route.  Consider the case for Scenario 3, where the</span></td><td> </td><td class="rblock">   <span class="insert">AS_PATHs to be kept in the aggregate route.  Consider the case for</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">neighbor AS is the same for both R3 and R4 - AS 64504.  In such a</span></td><td> </td><td class="rblock">   <span class="insert">Scenario 3, where the neighbor AS is the same for both R3 and R4 - AS</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">case, an implementation may permit the aggregate's brief AS_PATH to</span></td><td> </td><td class="rblock">   <span class="insert">64504.  In such a case, an implementation may permit the aggregate's</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   b<span class="delete">e "64504".</span></td><td> </td><td class="rblock">   b<span class="insert">rief AS_PATH to be "64504", and a ROA would be created for the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   aggregate prefix with 64504 as the origin AS.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0057" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">Appendix C.  Discussion on Forwarding Loops and AS_SETs</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                                         </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   In spite of the fact that BGP-4 was designed to carry CIDR routes,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   [RFC4271] does not discuss the installation of discard routes when</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   implementing its aggregation procedures.  Implementations could</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   originate a destination without a covering route present in the local</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   routing table.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                                         </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   When aggregating more specific routes according to [RFC4271]</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   aggregation procedures, the aggregating BGP speaker will place</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   contributing routes into the generated AS_PATH, perhaps using</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   AS_SETs.  As a result, a contributing AS will not install the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   aggregated route into its RIB since the route is an AS_PATH loop.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   This provides a form of protection vs. forwarding loops created by</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   BGP aggregation.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                                         </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   When brief aggregation methods are used, a BGP speaker may receive a</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   route containing such less specific destination covering a local more</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   specific destination and install it in its routing table since it is</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   not prevented from doing so by BGP AS_PATH loop detection.  In such</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   circumstances, it is critical that such Autonomous Systems implement</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   the recommendations from Section 5.1 of [RFC4632] and have covering</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   routes for all destinations it announces to external BGP speakers.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                                         </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   The recommendation to filter aggregate routes from BGP peers that</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   contribute routes to the AS, documented in Section 5.2, is similarly</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   motivated by preventing forwarding loops.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                                         </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Authors' Addresses</td><td> </td><td class="right">Authors' Addresses</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Warren Kumari</td><td> </td><td class="right">   Warren Kumari</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Google, Inc.</td><td> </td><td class="right">   Google, Inc.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   1600 Amphitheatre Parkway</td><td> </td><td class="right">   1600 Amphitheatre Parkway</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Mountain View, CA 94043</td><td> </td><td class="right">   Mountain View, CA 94043</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   United States of America</td><td> </td><td class="right">   United States of America</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Phone: +1 571 748 4373</td><td> </td><td class="right">   Phone: +1 571 748 4373</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Email: warren@kumari.net</td><td> </td><td class="right">   Email: warren@kumari.net</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 57 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>127 lines changed or deleted</i></th><th><i> </i></th><th><i>201 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.34. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
